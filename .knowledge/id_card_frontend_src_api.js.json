{"is_source_file": true, "format": "JavaScript", "description": "This file provides API connection logic for the Digital ID Card Manager frontend, including functions for user authentication, profile fetching, ID card management, and linking ID cards to holders via fetch requests to a REST API.", "external_files": ["process.env.REACT_APP_API_URL", "fetch"], "external_methods": ["fetch"], "published": ["loginUser", "signupUser", "fetchProfile", "listIdCards", "getIdCard", "createIdCard", "updateIdCard", "deleteIdCard", "listUsers", "linkIdCardToHolder", "listHolders"], "classes": [], "methods": [{"name": "request(path, method = \"GET\", data = null, auth = null)", "description": "Core request handler that constructs fetch options, manages authentication headers, error handling, and JSON parsing.", "scope": "", "scopeKind": ""}, {"name": "loginUser(email, password)", "description": "Authenticates a user with email and password via POST /auth/login.", "scope": "", "scopeKind": ""}, {"name": "signupUser(email, password, _role, name)", "description": "Signs up a new user with email and password via POST /auth/signup.", "scope": "", "scopeKind": ""}, {"name": "fetchProfile(token)", "description": "Retrieves user profile information, optionally using an authorization token.", "scope": "", "scopeKind": ""}, {"name": "listIdCards(token)", "description": "Fetches list of ID cards accessible to the user.", "scope": "", "scopeKind": ""}, {"name": "getIdCard(id, token)", "description": "Retrieves specific ID card data by ID.", "scope": "", "scopeKind": ""}, {"name": "createIdCard(data, token)", "description": "Creates a new ID card with provided data.", "scope": "", "scopeKind": ""}, {"name": "updateIdCard(id, data, token)", "description": "Updates an existing ID card identified by ID with new data.", "scope": "", "scopeKind": ""}, {"name": "deleteIdCard(id, token)", "description": "Deletes an ID card specified by ID.", "scope": "", "scopeKind": ""}, {"name": "listUsers(token)", "description": "Retrieves a list of users.", "scope": "", "scopeKind": ""}, {"name": "linkIdCardToHolder(holder_id, idcard_id, token)", "description": "Links an ID card to a holder by posting holder_id and idcard_id.", "scope": "", "scopeKind": ""}, {"name": "listHolders(token)", "description": "Fetches list of holders.", "scope": "", "scopeKind": ""}], "calls": ["fetch", "res.json", "request"], "search-terms": ["API connection", "ID cards", "User authentication", "fetch request", "REST API"], "state": 2, "file_id": 19, "knowledge_revision": 79, "git_revision": "578a040c55216e4e744333b52c2d55cb86dc7eeb", "revision_history": [{"39": ""}, {"68": "0488246194dc83acb92484f261666c1d0de241c1"}, {"76": "1e99429fe1c53b27795e8eba9217d7140520cd97"}, {"79": "578a040c55216e4e744333b52c2d55cb86dc7eeb"}], "ctags": [{"_type": "tag", "name": "API_BASE_URL", "path": "/home/kavia/workspace/code-generation/digital-id-card-manager-c0fc1bc9/id_card_frontend/src/api.js", "pattern": "/^const API_BASE_URL = process.env.REACT_APP_API_URL || \"http:\\/\\/localhost:5000\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "code", "path": "/home/kavia/workspace/code-generation/digital-id-card-manager-c0fc1bc9/id_card_frontend/src/api.js", "pattern": "/^      err = { message: res.statusText, code: res.status };$/", "language": "JavaScript", "kind": "property", "scope": "request.err", "scopeKind": "class"}, {"_type": "tag", "name": "createIdCard", "path": "/home/kavia/workspace/code-generation/digital-id-card-manager-c0fc1bc9/id_card_frontend/src/api.js", "pattern": "/^export async function createIdCard(data, token) {$/", "language": "JavaScript", "kind": "function", "signature": "(data, token)"}, {"_type": "tag", "name": "deleteIdCard", "path": "/home/kavia/workspace/code-generation/digital-id-card-manager-c0fc1bc9/id_card_frontend/src/api.js", "pattern": "/^export async function deleteIdCard(id, token) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, token)"}, {"_type": "tag", "name": "err", "path": "/home/kavia/workspace/code-generation/digital-id-card-manager-c0fc1bc9/id_card_frontend/src/api.js", "pattern": "/^      err = { message: res.statusText, code: res.status };$/", "language": "JavaScript", "kind": "class", "scope": "request", "scopeKind": "class"}, {"_type": "tag", "name": "fetchProfile", "path": "/home/kavia/workspace/code-generation/digital-id-card-manager-c0fc1bc9/id_card_frontend/src/api.js", "pattern": "/^export async function fetchProfile(token) {$/", "language": "JavaScript", "kind": "function", "signature": "(token)"}, {"_type": "tag", "name": "getIdCard", "path": "/home/kavia/workspace/code-generation/digital-id-card-manager-c0fc1bc9/id_card_frontend/src/api.js", "pattern": "/^export async function getIdCard(id, token) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, token)"}, {"_type": "tag", "name": "linkIdCardToHolder", "path": "/home/kavia/workspace/code-generation/digital-id-card-manager-c0fc1bc9/id_card_frontend/src/api.js", "pattern": "/^export async function linkIdCardToHolder(holder_id, idcard_id, token) {$/", "language": "JavaScript", "kind": "function", "signature": "(holder_id, idcard_id, token)"}, {"_type": "tag", "name": "listHolders", "path": "/home/kavia/workspace/code-generation/digital-id-card-manager-c0fc1bc9/id_card_frontend/src/api.js", "pattern": "/^export async function listHolders(token) {$/", "language": "JavaScript", "kind": "function", "signature": "(token)"}, {"_type": "tag", "name": "listIdCards", "path": "/home/kavia/workspace/code-generation/digital-id-card-manager-c0fc1bc9/id_card_frontend/src/api.js", "pattern": "/^export async function listIdCards(token) {$/", "language": "JavaScript", "kind": "function", "signature": "(token)"}, {"_type": "tag", "name": "listUsers", "path": "/home/kavia/workspace/code-generation/digital-id-card-manager-c0fc1bc9/id_card_frontend/src/api.js", "pattern": "/^export async function listUsers(token) {$/", "language": "JavaScript", "kind": "function", "signature": "(token)"}, {"_type": "tag", "name": "loginUser", "path": "/home/kavia/workspace/code-generation/digital-id-card-manager-c0fc1bc9/id_card_frontend/src/api.js", "pattern": "/^export async function loginUser(email, password) {$/", "language": "JavaScript", "kind": "function", "signature": "(email, password)"}, {"_type": "tag", "name": "message", "path": "/home/kavia/workspace/code-generation/digital-id-card-manager-c0fc1bc9/id_card_frontend/src/api.js", "pattern": "/^      err = { message: res.statusText, code: res.status };$/", "language": "JavaScript", "kind": "property", "scope": "request.err", "scopeKind": "class"}, {"_type": "tag", "name": "method", "path": "/home/kavia/workspace/code-generation/digital-id-card-manager-c0fc1bc9/id_card_frontend/src/api.js", "pattern": "/^    method,$/", "language": "JavaScript", "kind": "field", "scope": "request.opts", "scopeKind": "class"}, {"_type": "tag", "name": "request", "path": "/home/kavia/workspace/code-generation/digital-id-card-manager-c0fc1bc9/id_card_frontend/src/api.js", "pattern": "/^async function request(path, method = \"GET\", data = null, auth = null) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, method = \"GET\", data = null, auth = null)"}, {"_type": "tag", "name": "signupUser", "path": "/home/kavia/workspace/code-generation/digital-id-card-manager-c0fc1bc9/id_card_frontend/src/api.js", "pattern": "/^export async function signupUser(email, password, _role, name) {$/", "language": "JavaScript", "kind": "function", "signature": "(email, password, _role, name)"}, {"_type": "tag", "name": "updateIdCard", "path": "/home/kavia/workspace/code-generation/digital-id-card-manager-c0fc1bc9/id_card_frontend/src/api.js", "pattern": "/^export async function updateIdCard(id, data, token) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, data, token)"}], "hash": "9765b0ddc5cf4ac1e1c34952d745bca0", "format-version": 4, "code-base-name": "id_card_frontend", "filename": "id_card_frontend/src/api.js", "fields": [{"name": "err = { message: res.statusText, code: res.status };", "scope": "request.err", "scopeKind": "class", "description": "unavailable"}, {"name": "method,", "scope": "request.opts", "scopeKind": "class", "description": "unavailable"}]}